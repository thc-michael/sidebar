!function(t,n,e,s){var i="Sidebar",o="plugin_"+i,h=function(n,e){this.$element=t(n),this._name=i,this.baseSettings={},this.settings={touchEvents:!0,hideOnSelect:!0,toggle:"",threshold:20,backdrop:".backdrop",panel:".panel",responsive:[]},this.$backdrop,this.$panel,this.touchStartX=null,this.init(e)};h.prototype={init:function(e){var s=this;this.baseSettings=t.extend({},this.settings,this.$element.data(),e),this.refreshSettings(),this.$element.find("a").click(function(t){s._onLinkSelect(t)}),t(this.settings.toggle).click(function(t){s._onToggle(t)}),this.$panel.on("touchstart",function(t){s._onTouchStart(t)}),this.$panel.on("touchend",function(t){s._onTouchEnd(t)}),this.$panel.on("touchmove",function(t){s._onTouchMove(t)}),this.$panel.mousedown(function(t){s._onTouchStart(t)}),this.$panel.mouseup(function(t){s._onTouchEnd(t)}),this.$panel.mousemove(function(t){s._onTouchMove(t)}),this.$panel.mouseleave(function(t){s._onTouchEnd(t)}),this.$backdrop.click(function(t){s._onBackdropClick(t)}),t(n).resize(function(){s._onWindowResize()})},refreshSettings:function(){var e=this;this.settings=t.extend({},this.baseSettings),this.settings.responsive.forEach(function(s){n.innerWidth>=s.breakpoint&&(e.settings=t.extend({},e.settings,s.settings),e.$backdrop=e.$element.find(e.settings.backdrop),e.$panel=e.$element.find(e.settings.panel))})},_onWindowResize:function(){this.settings.responsive.length&&this.refreshSettings()},_onLinkSelect:function(t){return t.preventDefault(),this.settings.hideOnSelect&&this.close(),!1},_onToggle:function(t){return t.preventDefault(),this.toggle(),!1},_onBackdropClick:function(t){this.close()},_onTouchStart:function(t){if(this.settings.touchEvents){t.preventDefault();var n=t.touches?t.touches[0].pageX:t.pageX;return this.touchStartX=n,!1}},_onTouchEnd:function(t){if(this.settings.touchEvents){t.preventDefault(),this.$panel.removeClass("no-transition");var n=t.changedTouches?t.changedTouches[0].pageX:t.pageX;return this.touchStartX&&n-this.touchStartX<-this.settings.threshold&&(this.$panel.css("left",""),this.close()),this.touchStartX=null,!1}},_onTouchMove:function(t){if(this.settings.touchEvents){t.preventDefault();var n=t.touches?t.touches[0].pageX:t.pageX;if(this.touchStartX){this.$panel.addClass("no-transition");var e=Math.min(0,n-this.touchStartX);this.$panel.css("left",e+"px")}return!1}},open:function(){this.$element.addClass("open")},close:function(){this.$panel.css("left",""),this.$element.removeClass("open")},toggle:function(){this.$element.toggleClass("open")}},t.fn[i]=function(t){var n=this.data(o);return n instanceof h?"undefined"!=typeof t&&n.init(t):(n=new h(this,t),this.data(o,n)),n}}(jQuery,window,document);