!function(t,n,s,e){var i="Sidebar",o="plugin_"+i,h=function(n,s){this.$element=t(n),this._name=i,this.settings={touchEvents:!0,threshold:20,backdrop:this.$element.find(".backdrop"),panel:this.$element.find(".panel"),touchEventsBreakpoint:768},this.touchStartX=null,this.init(s)};h.prototype={init:function(n){var s=this;this.settings=t.extend({},this.settings,this.$element.data(),n),this.settings.panel.on("touchstart",function(t){s._onTouchStart(t)}),this.settings.panel.on("touchend",function(t){s._onTouchEnd(t)}),this.settings.panel.on("touchmove",function(t){s._onTouchMove(t)}),this.settings.panel.mousedown(function(t){s._onTouchStart(t)}),this.settings.panel.mouseup(function(t){s._onTouchEnd(t)}),this.settings.panel.mousemove(function(t){s._onTouchMove(t)}),this.settings.panel.mouseleave(function(t){s._onTouchEnd(t)}),this.settings.backdrop.click(function(t){s._onBackdropClick(t)})},_onBackdropClick:function(t){this.close()},_onTouchStart:function(t){if(this.settings.touchEvents&&n.innerWidth<this.settings.touchEventsBreakpoint){var s=t.touches?t.touches[0].pageX:t.pageX;this.touchStartX=s}},_onTouchEnd:function(t){if(this.settings.touchEvents&&n.innerWidth<this.settings.touchEventsBreakpoint){this.settings.panel.removeClass("no-transition");var s=t.changedTouches?t.changedTouches[0].pageX:t.pageX;this.touchStartX&&s-this.touchStartX<-this.settings.threshold&&(this.settings.panel.css("left",""),this.close()),this.touchStartX=null}},_onTouchMove:function(t){if(this.settings.touchEvents&&n.innerWidth<this.settings.touchEventsBreakpoint){var s=t.touches?t.touches[0].pageX:t.pageX;if(this.touchStartX){this.settings.panel.addClass("no-transition");var e=Math.min(0,s-this.touchStartX);this.settings.panel.css("left",e+"px")}}},open:function(){this.$element.addClass("open")},close:function(){this.settings.panel.css("left",""),this.$element.removeClass("open")},toggle:function(){this.$element.toggleClass("open")}},t.fn[i]=function(t){var n=this.data(o);return n instanceof h?"undefined"!=typeof t&&n.init(t):(n=new h(this,t),this.data(o,n)),n}}(jQuery,window,document);