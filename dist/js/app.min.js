!function(t,e,n,i){var o="Sidebar",s="plugin_"+o,h=function(e,n){this.$element=t(e),this._name=o,this.settings={hideOnSelect:!0,toggleSelector:"",threshold:20},this.$backdrop=this.$element.find(".backdrop"),this.$panel=this.$element.find(".panel"),this.touchStartX=null,this.init(n)};h.prototype={init:function(e){var n=this;this.settings=t.extend(!0,this.settings,this.$element.data(),e),this.settings.hideOnSelect&&this._initHideOnSelect(),this.settings.toggleSelector.length&&this._initToggleSelector(),this.$panel.bind("touchstart",function(t){n._onTouchStart(t)}),this.$panel.bind("touchend",function(t){n._onTouchEnd(t)}),this.$panel.bind("touchmove",function(t){n._onTouchMove(t)}),this.$panel.mousedown(function(t){n._onTouchStart(t)}),this.$panel.mouseup(function(t){n._onTouchEnd(t)}),this.$panel.mousemove(function(t){n._onTouchMove(t)}),this.$panel.mouseleave(function(t){n._onTouchEnd(t)}),this.$backdrop.click(function(t){n._backdropClickHandler(t)})},_initHideOnSelect:function(){var t=this;this.$element.find("a").click(function(e){t.close()})},_initToggleSelector:function(){var e=this;t(this.settings.toggleSelector).click(function(t){return t.preventDefault(),e.toggle(),!1})},_backdropClickHandler:function(t){this.close()},_onTouchStart:function(t){t.preventDefault();var e=t.touches?t.touches[0].pageX:t.pageX;return this.touchStartX=e,!1},_onTouchEnd:function(t){t.preventDefault(),this.$panel.removeClass("no-transition");var e=t.changedTouches?t.changedTouches[0].pageX:t.pageX;return this.touchStartX&&e-this.touchStartX<-this.settings.threshold&&(this.$panel.css("left",""),this.close()),this.touchStartX=null,!1},_onTouchMove:function(t){t.preventDefault();var e=t.touches?t.touches[0].pageX:t.pageX;if(this.touchStartX){this.$panel.addClass("no-transition");var n=Math.min(0,e-this.touchStartX);this.$panel.css("left",n+"px")}return!1},open:function(){this.$element.addClass("open")},close:function(){this.$panel.css("left",""),this.$element.removeClass("open")},toggle:function(){this.$element.toggleClass("open")}},t.fn[o]=function(t){var e=this.data(s);return e instanceof h?"undefined"!=typeof t&&e.init(t):(e=new h(this,t),this.data(s,e)),e}}(jQuery,window,document);